---
title: ä»»æ„ã®ãƒ‡ãƒ¼ã‚¿ã‚’ã‚³ãƒ”ãƒ¼&ãƒšãƒ¼ã‚¹ãƒˆã™ã‚‹Clipboard API
description: Clipboard APIã¯ã€navigator.clipboardã‚’é€šã˜ã¦ã‚¯ãƒªãƒƒãƒ—ãƒœãƒ¼ãƒ‰ã¸ã®èª­ã¿æ›¸ãã‚’éåŒæœŸã§è¡Œãˆã‚‹APIã§ã™ã€‚ãƒ†ã‚­ã‚¹ãƒˆã‚„ç”»åƒã®ã‚³ãƒ”ãƒ¼ãƒ»è²¼ã‚Šä»˜ã‘ã«å¯¾å¿œã—ã€ClipboardItemã‚’ä½¿ãˆã°MIMEã‚¿ã‚¤ãƒ—åˆ¥ã®ãƒ‡ãƒ¼ã‚¿æ“ä½œã‚‚å¯èƒ½ã§ã™ã€‚
createdAt: 2025-04-06 10:02:57.807659+00
updatedAt: 2025-04-06 10:02:57.807659+00
---

import { BaselineStatus } from '@/components/baseline-status';
import { LinkCard } from '@/components/link-card';
import { ClipboardTextDemo as Example1 } from '@/app/_components/playgrounds/async-clipboard';
import { ClipboardImageDemo as Example2 } from '@/app/_components/playgrounds/async-clipboard';
import { Playground } from '@/app/blog/_components/playground';

# ä»»æ„ã®ãƒ‡ãƒ¼ã‚¿ã‚’ã‚³ãƒ”ãƒ¼&ãƒšãƒ¼ã‚¹ãƒˆã™ã‚‹Clipboard API

## Clipboard API

<BaselineStatus featureId="async-clipboard"></BaselineStatus>

Clipboard APIã¯ã€ã‚¯ãƒªãƒƒãƒ—ãƒœãƒ¼ãƒ‰ã«ã‚¢ã‚¯ã‚»ã‚¹ã™ã‚‹ãŸã‚ã®APIã§ã™ã€‚ã“ã‚Œã‚’ä½¿ã†ã“ã¨ã§ã€ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒé¸æŠã—ãŸãƒ†ã‚­ã‚¹ãƒˆã‚„ç”»åƒãªã©ã‚’ã‚¯ãƒªãƒƒãƒ—ãƒœãƒ¼ãƒ‰ã«ã‚³ãƒ”ãƒ¼ã—ãŸã‚Šã€ã‚¯ãƒªãƒƒãƒ—ãƒœãƒ¼ãƒ‰ã‹ã‚‰ãƒ‡ãƒ¼ã‚¿ã‚’å–å¾—ã—ãŸã‚Šã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚

Clipboard APIã¯`Clipboard`ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ã«ã‚ˆã‚Šå®Ÿè£…ã•ã‚Œã¦ãŠã‚Šã€`navigator.clipboard`ã‚’é€šã˜ã¦ã‚¢ã‚¯ã‚»ã‚¹ã§ãã¾ã™ã€‚

`Clipboard`ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ã¯ã€ä»¥ä¸‹ã®éåŒæœŸãªãƒ¡ã‚½ãƒƒãƒ‰ã‚’æä¾›ã—ã¦ã„ã¾ã™ã€‚

- `readText()`: ã‚¯ãƒªãƒƒãƒ—ãƒœãƒ¼ãƒ‰ã‹ã‚‰ãƒ†ã‚­ã‚¹ãƒˆãƒ‡ãƒ¼ã‚¿ã‚’èª­ã¿ã¨ã‚‹
- `writeText()`: ã‚¯ãƒªãƒƒãƒ—ãƒœãƒ¼ãƒ‰ã«ãƒ†ã‚­ã‚¹ãƒˆãƒ‡ãƒ¼ã‚¿ã‚’æ›¸ãè¾¼ã‚€
- `read()`: ã‚¯ãƒªãƒƒãƒ—ãƒœãƒ¼ãƒ‰ã‹ã‚‰ãƒ‡ãƒ¼ã‚¿ã‚’èª­ã¿ã¨ã‚‹
- `write()`: ã‚¯ãƒªãƒƒãƒ—ãƒœãƒ¼ãƒ‰ã«ãƒ‡ãƒ¼ã‚¿ã‚’æ›¸ãè¾¼ã‚€

```js
// readText
navigator.clipboard.readText().then(console.log);

// writeText
navigator.clipboard
  .writeText('Hello, world!')
  .then(() => console.log('Text copied to clipboard!'));

// read
navigator.clipboard.read().then((clipboardItems) => {
  for (const clipboardItem of clipboardItems) {
    for (const type of clipboardItem.types) {
      const blob = clipboardItem.getType(type);
      console.log(blob);
    }
  }
});

// write
const item = new ClipboardItem({
  'image/png': new Blob(['...'], { type: 'image/png' }),
});
navigator.clipboard
  .write([item])
  .then(() => console.log('Image copied to clipboard!'));
```

`readText`ã¨`writeText`ã¯ã€ãƒ†ã‚­ã‚¹ãƒˆãƒ‡ãƒ¼ã‚¿ã‚’æ‰±ã†ãŸã‚ã®ç°¡å˜ãªãƒ¡ã‚½ãƒƒãƒ‰ã§ã™ã€‚`read`ã¨`write`ã‚‚ãƒ™ãƒ¼ã‚¹ã¯åŒã˜ã§ã™ãŒã€ãƒ†ã‚­ã‚¹ãƒˆä»¥å¤–ã®ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚‚æ‰±ã†ãŸã‚å°‘ã—è¤‡é›‘ã§ã™ã€‚ã“ã¡ã‚‰ã«ã¤ã„ã¦ã¯å¾Œã»ã©è©³ã—ãç´¹ä»‹ã—ã¾ã™ã€‚

### æ¨©é™

Clipboard APIã¯ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ä¸Šã®éƒ½åˆã§å®Ÿè¡Œã«å¯¾ã™ã‚‹åˆ¶é™ãŒã‹ã‘ã‚‰ã‚Œã¦ã„ã¾ã™ã€‚

åˆ¶é™ã¯ãƒ–ãƒ©ã‚¦ã‚¶ã«ã‚ˆã£ã¦ç•°ãªã‚Šã¾ã™ã€‚ä¾‹ãˆã°Chromeã§ã¯Permissions APIã‚’ä½¿ã£ã¦ã€`clipboard-read`ã§èª­ã¿è¾¼ã¿ã‚’ã€`clipboard-write`ã§æ›¸ãè¾¼ã¿ã®æ¨©é™ã‚’ç¢ºèªã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚

```js
const readPermission = await navigator.permissions.query({
  name: 'clipboard-read',
});

readPermission.state === 'granted'; // ã‚¯ãƒªãƒƒãƒ—ãƒœãƒ¼ãƒ‰ã®èª­ã¿å–ã‚ŠãŒè¨±å¯ã•ã‚Œã¦ã„ã‚‹
readPermission.state === 'prompt'; // ãƒ¦ãƒ¼ã‚¶ãƒ¼ã«è¨±å¯ã‚’æ±‚ã‚ã‚‹
readPermission.state === 'denied'; // ã‚¯ãƒªãƒƒãƒ—ãƒœãƒ¼ãƒ‰ã®èª­ã¿å–ã‚ŠãŒæ‹’å¦ã•ã‚Œã¦ã„ã‚‹

const writePermission = await navigator.permissions.query({
  name: 'clipboard-write',
});

writePermission.state === 'granted'; // ã‚¯ãƒªãƒƒãƒ—ãƒœãƒ¼ãƒ‰ã®æ›¸ãè¾¼ã¿ãŒè¨±å¯ã•ã‚Œã¦ã„ã‚‹
writePermission.state === 'prompt'; // ãƒ¦ãƒ¼ã‚¶ãƒ¼ã«è¨±å¯ã‚’æ±‚ã‚ã‚‹
writePermission.state === 'denied'; // ã‚¯ãƒªãƒƒãƒ—ãƒœãƒ¼ãƒ‰ã®æ›¸ãè¾¼ã¿ãŒæ‹’å¦ã•ã‚Œã¦ã„ã‚‹
```

ã“ã‚Œã«å¯¾ã—ã€Firefoxã‚„Safariã§ã¯ã€ã“ã‚Œã‚‰ã®æ¨©é™ã¯ã‚µãƒãƒ¼ãƒˆã•ã‚Œã¦ã„ã¾ã›ã‚“ã€‚Firefoxã‚„Safariã¯ã‚ªãƒªã‚¸ãƒ³é–“ã®èª­ã¿è¾¼ã¿ã¯è¨±å¯ã•ã‚Œã¦ã„ã¾ã™ãŒã€ç•°ãªã‚‹ã‚ªãƒªã‚¸ãƒ³ã§èª­ã¿è¾¼ã‚€ã“ã¨ã¯è¨±å¯ã•ã‚Œã¦ã„ã¾ã›ã‚“(æ›¸ãè¾¼ã¿ã¯ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§è¨±å¯ã•ã‚Œã¦ã„ã¾ã™)ã€‚

Safariã§ç™ºç”Ÿã™ã‚‹ã‚¨ãƒ©ãƒ¼: The request is not allowed by the user agent or the platform in the current context, possibly because the user denied permission.

### æ¨©é™ãƒã‚§ãƒƒã‚¯ã¨ãƒ†ã‚­ã‚¹ãƒˆã®èª­ã¿æ›¸ã

Permission APIã¨åˆã‚ã›ã¦ã€`readText`ã¨`writeText`ã‚’ç”¨ã„ãŸä¾‹ã‚’ä¸‹ã«ç¤ºã—ã¾ã™ã€‚

<Playground title="æ¨©é™ãƒã‚§ãƒƒã‚¯ã¨ãƒ†ã‚­ã‚¹ãƒˆã®èª­ã¿æ›¸ã">
  <Example1 />
</Playground>

Permission APIã‚’ä½¿ã£ã¦æ¨©é™åˆ¤å®šã‚’è¡Œãªã£ã¦ã„ã¾ã™ã€‚Safariã‚„Firefoxã‚’åˆ©ç”¨ã®æ–¹ã¯åˆ©ç”¨ã§ããªã„ã§ã™ğŸ™ã€‚

## ClipboardItem

`ClipboardItem`ã¯ã€ã‚¯ãƒªãƒƒãƒ—ãƒœãƒ¼ãƒ‰ã«æ›¸ãè¾¼ã‚€ãƒ‡ãƒ¼ã‚¿ã‚’è¡¨ã™ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã§ã™ã€‚å…ˆã»ã©ã®ä¾‹ã®`read`ã¨`write`ã§ä½¿ã‚ã‚Œã¦ã„ã‚‹ã‚‚ã®ã§ã™ã€‚
`read`ã¯ã‚¯ãƒªãƒƒãƒ—ãƒœãƒ¼ãƒ‰ã‹ã‚‰èª­ã¿å–ã£ãŸãƒ‡ãƒ¼ã‚¿ã‚’`ClipboardItem`ã®é…åˆ—ã§è§£æ±ºã—ã€`write`ã¯å¼•æ•°ã«æ¸¡ã—ãŸ`ClipboardItem`ã®é…åˆ—ã‚’ã‚¯ãƒªãƒƒãƒ—ãƒœãƒ¼ãƒ‰ã«æ›¸ãè¾¼ã¿ã¾ã™ã€‚

```ts
// read
navigator.clipboard.read().then((clipboardItems: ClipboardItem) => {
  for (const clipboardItem of clipboardItems) {
    for (const type of clipboardItem.types) {
      const blob = clipboardItem.getType(type);
      console.log(blob);
    }
  }
});

// write
const item = new ClipboardItem({
  'image/png': new Blob(['...'], { type: 'image/png' }),
});
navigator.clipboard
  .write([item])
  .then(() => console.log('Image copied to clipboard!'));
```

`ClipboardItem`ã¯2ã¤ã®å¼•æ•°ã«ã‚ˆã£ã¦çµ„ã¿ç«‹ã¦ã‚‰ã‚Œã¾ã™ã€‚

1ã¤ç›®ã®å¼•æ•°ã¯ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚’ãƒ‡ãƒ¼ã‚¿ã§æ¸¡ã—ã¾ã™ã€‚`MIME`ã‚¿ã‚¤ãƒ—ã‚’ã‚­ãƒ¼ã«ã€Blobã‚„æ–‡å­—åˆ—ã€ã“ã‚Œã‚‰ã‚’Promiseã§ãƒ©ãƒƒãƒ—ã—ãŸã‚‚ã®ã‚’å€¤ã«æŒã¤ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚’æ¸¡ã—ã¾ã™ã€‚

```js
{
  'image/png': new Blob(['...'], { type: 'image/png' }),
  'text/plain': 'Hello, world!',
}
```

2ã¤ç›®ã®å¼•æ•°ã¯ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã§ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã‚’æ¸¡ã—ã¾ã™ã€‚ç¾åœ¨ã¯`presentationStyle`ã‚’ã‚µãƒãƒ¼ãƒˆã—ã¦ã„ã¾ã™ã€‚å€¤ã«ã¯`unspecified`ã€`inline`ã€`attachment`ã‚’æ¸¡ã›ã¾ã™ã€‚ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆå€¤ã¯ `unspecified`ã§ã™ã€‚
`inline`ã¯ã‚¯ãƒªãƒƒãƒ—ãƒœãƒ¼ãƒ‰ã«ã‚³ãƒ”ãƒ¼ã—ãŸãƒ‡ãƒ¼ã‚¿ã‚’è¡¨ç¤ºã™ã‚‹ãŸã‚ã®ã‚‚ã®ã€`attachment`ã¯ã‚¯ãƒªãƒƒãƒ—ãƒœãƒ¼ãƒ‰ã«ã‚³ãƒ”ãƒ¼ã—ãŸãƒ‡ãƒ¼ã‚¿ã‚’æ·»ä»˜ãƒ•ã‚¡ã‚¤ãƒ«ã¨ã—ã¦æ‰±ã†ãŸã‚ã®ã‚‚ã®ã§ã™ã€‚

ä½œæˆã•ã‚ŒãŸ`ClipboardItem`ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã¯ã€`types`ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã€`getType()`ãƒ¡ã‚½ãƒƒãƒ‰ã‚’æŒã¡ã¾ã™ï¼ˆBaselineã§å¯¾å¿œã—ã¦ã„ã‚‹ã‚‚ã®ã ã‘ã‚’ç´¹ä»‹ã—ã¦ã„ã¾ã™ï¼‰ã€‚
`types`ã¯åˆ©ç”¨å¯èƒ½ãªMIMEã‚¿ã‚¤ãƒ—ã‚’é…åˆ—ã§è¿”ã—ã€`getType()`ã¯ç¬¬ä¸€å¼•æ•°ã«æ¸¡ã—ãŸMIMEã‚¿ã‚¤ãƒ—ã‚’ã‚‚ã¨ã«Promiseã§è§£æ±ºã—ãŸBlobã‚’è¿”ã—ã¾ã™ã€‚

```js
const item = new ClipboardItem(
  {
    'image/png': new Blob(['...'], { type: 'image/png' }),
    'text/plain': 'Hello, world!',
  },
  { presentationStyle: 'inline' },
);
console.log(item.types); // ['image/png', 'text/plain']
for (const type of item.types) {
  item.getType(type).then((blob) => {
    // BlobÂ {size: 3, type: 'image/png'}
    // BlobÂ {size: 13, type: 'text/plain'}
    console.log(blob);
  });
}
item.getType('text/html').catch((err) => {
  // NotFoundError: Failed to execute 'getType' on 'ClipboardItem': The type was not found
  console.error(err);
});
```

### ClipboardItem supports

<BaselineStatus featureId="clipboard-supports"></BaselineStatus>

ClipboardItemã®é™çš„ãƒ¡ã‚½ãƒƒãƒ‰`supports`ãŒBaseline 2025ã§è¿½åŠ ã•ã‚Œã¾ã—ãŸã€‚`supports`ã¯ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®ç’°å¢ƒã§ç‰¹å®šã®MIMEã‚¿ã‚¤ãƒ—ãŒClipboard APIã§ã‚µãƒãƒ¼ãƒˆã•ã‚Œã¦ã„ã‚‹ã“ã¨ã‚’ç¢ºèªã™ã‚‹ãŸã‚ã®ã‚‚ã®ã§ã™ã€‚

`text/plain`ã€`text/html`ã€`image/png`ã¯å¸¸ã«ã‚µãƒãƒ¼ãƒˆã•ã‚Œã¦ã„ã¾ã™ãŒã€`text/uri-list`ã€`image/svg+xml`ã¨`web `ã§å§‹ã‚ã‚‹ã‚«ã‚¹ã‚¿ãƒ MIMEã‚¿ã‚¤ãƒ—ã¯ã€ãƒ–ãƒ©ã‚¦ã‚¶ã‚„OSã«ã‚ˆã£ã¦çµæœãŒç•°ãªã‚Šã¾ã™ã€‚

<LinkCard href="https://w3c.github.io/clipboard-apis/#dom-clipboarditem-supports" />

ã‚µãƒãƒ¼ãƒˆã•ã‚Œã¦ã„ã‚Œã°`true`ã€ã‚µãƒãƒ¼ãƒˆã•ã‚Œã¦ã„ãªã‘ã‚Œã°`false`ã‚’è¿”ã—ã¾ã™ã€‚

```js
ClipboardItem.supports('text/plain'); // true
ClipboardItem.supports('text/html'); // true
ClipboardItem.supports('image/png'); // true

ClipboardItem.supports('text/uri-list'); // true or false
ClipboardItem.supports('image/svg+xml'); // true or false
ClipboardItem.supports('web image/png'); // true or false

ClipboardItem.supports('application/json'); // false
```

### PNGç”»åƒã®ã‚³ãƒ”ãƒ¼ã¨è²¼ã‚Šä»˜ã‘

ClipboardItemã‚’åˆ©ç”¨ã—ã¦PNGç”»åƒã®ã‚³ãƒ”ãƒ¼ã¨è²¼ã‚Šä»˜ã‘ã‚’è¡Œã†ä¾‹ã‚’ä½œæˆã—ã¾ã—ãŸã€‚

<Playground title="PNGç”»åƒã®ã‚³ãƒ”ãƒ¼ã¨è²¼ã‚Šä»˜ã‘ã‚’è¡Œã†">
  <Example2 />
</Playground>

ã‚³ãƒ”ãƒ¼ã‚’è¡Œã†é–¢æ•°ã¨è²¼ã‚Šä»˜ã‘ã‚’è¡Œã†é–¢æ•°ã¯ä»¥ä¸‹ã®ã‚ˆã†ã«ãªã£ã¦ã„ã¾ã™ã€‚

```ts
const copyImage = async () => {
  const img = document.getElementById(xxx) as HTMLImageElement | null;
  if (!img) return;
  const canvas = document.createElement('canvas');
  canvas.width = img.naturalWidth;
  canvas.height = img.naturalHeight;
  const ctx = canvas.getContext('2d');
  if (!ctx) return;
  ctx.drawImage(img, 0, 0);
  const blob = await new Promise<Blob>((resolve) => {
    canvas.toBlob((blob) => {
      if (!blob) {
        throw new Error('BlobãŒå–å¾—ã§ãã¾ã›ã‚“ã§ã—ãŸ');
      }
      resolve(blob);
    });
  });
  const file = new File([blob], 'xxx.png', { type: 'image/png' });
  const data = [new ClipboardItem({ 'image/png': file })];
  await navigator.clipboard.write(data);
};

const pasteImage = async () => {
  const img = document.getElementById(xxx) as HTMLImageElement | null;
  if (!img) return;
  const items = await navigator.clipboard.read();
  for (const item of items) {
    for (const type of item.types) {
      if (type === 'image/png') {
        const blob = await item.getType(type);
        const url = URL.createObjectURL(blob);
        img.src = url;
      }
    }
  }
};
```

### ãŠã‚ã‚Šã«

Clipboard APIã¯ã€ã‚¯ãƒªãƒƒãƒ—ãƒœãƒ¼ãƒ‰ã«ã‚¢ã‚¯ã‚»ã‚¹ã™ã‚‹ãŸã‚ã®APIã§ã™ã€‚ã“ã‚Œã‚’ä½¿ã†ã“ã¨ã§ã€ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒé¸æŠã—ãŸãƒ†ã‚­ã‚¹ãƒˆã‚„ç”»åƒãªã©ã‚’ã‚¯ãƒªãƒƒãƒ—ãƒœãƒ¼ãƒ‰ã«ã‚³ãƒ”ãƒ¼ã—ãŸã‚Šã€ã‚¯ãƒªãƒƒãƒ—ãƒœãƒ¼ãƒ‰ã‹ã‚‰ãƒ‡ãƒ¼ã‚¿ã‚’å–å¾—ã—ãŸã‚Šã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚
éå»ã«ã¯`execCommand()`ã‚’åˆ©ç”¨ã—ã¦ã„ã¾ã—ãŸãŒã€Clipboard APIã‚’åˆ©ç”¨ã™ã‚‹ã“ã¨ã§ã€ã‚ˆã‚Šç°¡å˜ã«ã‚¯ãƒªãƒƒãƒ—ãƒœãƒ¼ãƒ‰ã«ã‚¢ã‚¯ã‚»ã‚¹ã§ãã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã—ãŸã€‚`execCommand()`ã¯éæ¨å¥¨ãªã®ã§ã€ä»Šå¾Œã¯Clipboard APIã‚’åˆ©ç”¨ã™ã‚‹ã‚ˆã†ã«ã—ã¾ã—ã‚‡ã†ã€‚
